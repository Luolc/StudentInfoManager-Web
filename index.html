<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="description" content=""><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="generator" content="Polymer Starter Kit"><title>教务信息系统</title><meta name="theme-color" content="#2E3AA1"><link rel="manifest" href="manifest.json"><meta name="msapplication-TileColor" content="#3372DF"><meta name="mobile-web-app-capable" content="yes"><meta name="application-name" content="PSK"><link rel="icon" sizes="192x192" href="images/touch/chrome-touch-icon-192x192.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="apple-mobile-web-app-title" content="Polymer Starter Kit"><link rel="apple-touch-icon" href="images/touch/apple-touch-icon.png"><meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png"><link rel="stylesheet" href="styles/main.css"><script src="bower_components/webcomponentsjs/webcomponents-lite.min.js"></script><link rel="import" href="elements/elements.html"><style is="custom-style" include="shared-styles"></style></head><body unresolved=""><template is="dom-bind" id="app"><paper-drawer-panel id="paperDrawerPanel"><paper-scroll-header-panel drawer="" fixed=""><paper-toolbar id="drawerToolbar"><span class="menu-name">导航</span></paper-toolbar><paper-menu class="app-menu" attr-for-selected="data-route" selected="[[route]]"><a data-route="home" href="{{baseUrl}}"><iron-icon icon="home"></iron-icon><span>主页</span></a> <a data-route="demo" href="{{baseUrl}}demo"><iron-icon icon="account-box"></iron-icon><span>查询</span></a></paper-menu></paper-scroll-header-panel><paper-scroll-header-panel main="" id="headerPanelMain" condenses="" keep-condensed-header=""><paper-toolbar id="mainToolbar" class="tall"><paper-icon-button id="paperToggle" icon="menu" paper-drawer-toggle=""></paper-icon-button><span class="space"></span><div class="middle middle-container"><div class="app-name">教务信息系统</div></div><div class="bottom bottom-container"><div class="bottom-title">@数据库概论[第二次作业]|2016|春季学期|骆梁宸</div></div></paper-toolbar><div class="content"><iron-pages attr-for-selected="data-route" selected="{{route}}"><section data-route="home" tabindex="-1"><paper-material elevation="1"><h1>概述</h1><p>这是2016年春季学期数据库概论第二次作业的Demo页面。</p><p>作业主题：SQL语言初步。</p><p>如果需要本地查看效果，请阅读本地调试部分。</p></paper-material><paper-material elevation="1"><h1>本地调试</h1><h3>获取源代码。</h3><code-block>$ git clone https://github.com/Luolc/StudentInfoManager-Web.git</code-block><h3>Apache配置参考</h3><p>在你的apache2/other/下新建StudentInfoManager.conf并填入以下内容。</p><code-block>&lt;VirtualHost *:8000&gt;<br>&nbsp;&nbsp;ServerName StudentInfoManager<br>&nbsp;&nbsp;DocumentRoot [YOUR_CODE_PATH]<br>&nbsp;&nbsp;&lt;Directory [YOUR_CODE_PATH]&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;Require all granted<br>&nbsp;&nbsp;&lt;/Directory&gt;<br>&lt;/VirtualHost&gt;</code-block><p>修改apache2/extra/httpd-vhosts.conf，监听8000端口。</p><code-block>Listen 8000</code-block><p>重启Apache.</p><code-block>$ sudo apachectl restart</code-block><h3>导入数据库</h3><p>连接MySQL.</p><code-block>$ mysql -u[username] -p[password]</code-block><p>新建数据库。</p><code-block>mysql&gt; CREATE DATABASE course_database_1;</code-block><p>导入测试数据。</p><code-block>mysql&gt; USE course_database_1;<br>mysql&gt; SOURCE [YOUR_CODE_PATH]/course_database_1.sql;</code-block><h3>修改配置文件</h3><p>设置MySQL用户名密码。</p><code-block>$ cd config<br>$ cp database.sample.php database.php<br>$ vi database.php</code-block><p>然后填写你本机的MySQL用户名密码。</p><h3>运行</h3><p>打开浏览器(Chrome最佳)，在地址栏键入<a>localhost:8000</a>即可</p></paper-material></section><section data-route="demo"><paper-material elevation="1"><h2>查询一：检索刘老师所授课程的课程号、课程名</h2><code-block>SELECT 课程号, 课程名称 FROM 课程 WHERE 任课老师 = '刘老师';</code-block><query-view query="SELECT 课程号, 课程名称 FROM 课程 WHERE 任课老师 = '刘老师'"></query-view></paper-material><paper-material elevation="1"><h2>查询二：检索年龄大于20岁的男同学的学号和姓名</h2><code-block>SELECT 学号, 姓名 FROM 学生 WHERE 性别 = '男' AND 年龄 > 20;</code-block><query-view query="SELECT 学号, 姓名 FROM 学生 WHERE 性别 = '男' AND 年龄 > 20"></query-view></paper-material><paper-material elevation="1"><h2>查询三：检索至少选修刘老师所授课程中一门课的学生姓名</h2><code-block>SELECT 姓名 FROM 学生 WHERE 学号 IN<br>&nbsp;&nbsp;(SELECT 学号 FROM 选课 WHERE 课程号 IN<br>&nbsp;&nbsp;&nbsp;&nbsp;(SELECT 课程号 FROM 课程 WHERE 任课老师 = '刘老师'));</code-block><query-view query="SELECT 姓名 FROM 学生 WHERE 学号 IN (SELECT 学号 FROM 选课 WHERE 课程号 IN (SELECT 课程号 FROM 课程 WHERE 任课老师 = '刘老师'))"></query-view></paper-material><paper-material elevation="1"><h2>查询四：检索王同学不学的课程的课程号</h2><code-block>SELECT 课程号 FROM 选课 WHERE 课程号 NOT IN<br>&nbsp;&nbsp;(SELECT 课程号 FROM 选课 WHERE 学号 IN<br>&nbsp;&nbsp;&nbsp;&nbsp;(SELECT 学号 FROM 学生 WHERE 姓名 = '王同学'));</code-block><query-view query="SELECT 课程号 FROM 选课 WHERE 课程号 NOT IN (SELECT 课程号 FROM 选课 WHERE 学号 IN (SELECT 学号 FROM 学生 WHERE 姓名 = '王同学'))"></query-view></paper-material><paper-material elevation="1"><h2>查询五：检索至少选修两门课的学生学号</h2><code-block>SELECT 学号 FROM 选课 GROUP BY 学号 HAVING COUNT(学号) > 1;</code-block><query-view query="SELECT 学号 FROM 选课 GROUP BY 学号 HAVING COUNT(学号) > 1"></query-view></paper-material><paper-material elevation="1"><h2>查询六：检索全部学生都选修的课程号与课程名</h2><code-block>SELECT 课程号, 课程名称 FROM 课程 WHERE 课程号 IN<br>&nbsp;&nbsp;(SELECT 课程号 FROM 选课 AS 选课1 WHERE NOT EXISTS<br>&nbsp;&nbsp;&nbsp;&nbsp;(SELECT * FROM 学生 WHERE 学号 NOT IN<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(SELECT 学号 FROM 选课 AS 选课2 WHERE 选课1.课程号 = 选课2.课程号)));</code-block><query-view query="SELECT 课程号, 课程名称 FROM 课程 WHERE 课程号 IN (SELECT 课程号 FROM 选课 AS 选课1 WHERE NOT EXISTS (SELECT * FROM 学生 WHERE 学号 NOT IN (SELECT 学号 FROM 选课 AS 选课2 WHERE 选课1.课程号 = 选课2.课程号)))"></query-view></paper-material><paper-material elevation="1"><h2>查询七：检索选修课程包括刘老师所授课程的学生学号</h2><code-block>SELECT DISTINCT 学号 FROM 选课 WHERE 课程号 IN<br>&nbsp;&nbsp;(SELECT 课程号 FROM 课程 WHERE 任课老师 = '刘老师');</code-block><query-view query="SELECT DISTINCT 学号 FROM 选课 WHERE 课程号 IN (SELECT 课程号 FROM 课程 WHERE 任课老师 = '刘老师')"></query-view></paper-material><paper-material elevation="1"><h2>查询八：自定义查询</h2><query-view-input></query-view-input></paper-material></section></iron-pages></div></paper-scroll-header-panel></paper-drawer-panel><paper-toast id="toast"><span class="toast-hide-button" role="button" tabindex="0" onclick="app.$.toast.hide()">Ok</span></paper-toast></template><script src="scripts/app.js"></script></body></html>